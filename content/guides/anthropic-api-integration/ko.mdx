# Claude API í†µí•©í•˜ê¸° - ì• í”Œë¦¬ì¼€ì´ì…˜ì— AI ì¶”ê°€

ì´ì œ **ì• í”Œë¦¬ì¼€ì´ì…˜ì— Claude APIë¥¼ í†µí•©**í•˜ì—¬ AI ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ ìƒì„±, ì§ˆë¬¸ ë‹µë³€, ì´ë¯¸ì§€ ë¶„ì„ ë“± ë‹¤ì–‘í•œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<FreeTierInfo
  service="Claude API"
  limit="ì¢…ëŸ‰ì œ ê²°ì œ (ì €ë ´í•œ ê°€ê²©)"
  period="usage-based"
  status="affordable"
/>

## ì‹œì‘í•˜ê¸° ì „ì—

<PrerequisiteCheck items={[
  { text: "Anthropic API í‚¤", required: true },
  { text: "Python 3.8+ ë˜ëŠ” Node.js 14+", required: true },
  { text: "pip ë˜ëŠ” npm", required: true }
]} />

<Callout type="info">
ğŸ”— **API í†µí•©ì´ë€?** API í†µí•©ì€ ì™¸ë¶€ ì„œë¹„ìŠ¤ì˜ ê¸°ëŠ¥ì„ ìì‹ ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. Claude APIë¥¼ í†µí•©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ Claude ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

---

<Step number={1} title="Python SDK ì„¤ì¹˜ ë° ê¸°ë³¸ ì‚¬ìš©">

### anthropic ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

<CopyBlock language="bash" title="Anthropic Python SDK ì„¤ì¹˜">
pip install anthropic
</CopyBlock>

### ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒì„±

<CopyBlock language="python" title="Claudeë¡œ í…ìŠ¤íŠ¸ ìƒì„± (Python)">
import anthropic

client = anthropic.Anthropic()

message = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    messages=[
        {
            "role": "user",
            "content": "ì•ˆë…•í•˜ì„¸ìš”! ë‹¹ì‹ ì€ ëˆ„êµ¬ì¸ê°€ìš”?"
        }
    ]
)

print(message.content[0].text)
</CopyBlock>

### ë‹¤ì¤‘ í„´ ëŒ€í™”

<CopyBlock language="python" title="ëŒ€í™”í˜• ìƒí˜¸ì‘ìš©">
import anthropic

client = anthropic.Anthropic()

messages = [
    {
        "role": "user",
        "content": "íŒŒì´ì¬ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”"
    }
]

response = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    messages=messages
)

assistant_message = response.content[0].text
messages.append({"role": "assistant", "content": assistant_message})

messages.append({
    "role": "user",
    "content": "ê·¸ëŸ¼ ìì£¼ ì“°ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ”?"
})

response2 = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    messages=messages
)

print(response2.content[0].text)
</CopyBlock>

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/anthropic/step1-python-integration-ko.png"
  alt="Python Claude í†µí•©"
  caption="Anthropic SDKë¥¼ ì„¤ì¹˜í•˜ê³  ê¸°ë³¸ì ì¸ í…ìŠ¤íŠ¸ ìƒì„±ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤"
  priority={true}
/>

<Checkpoint>
Claudeë¡œë¶€í„° ì‘ë‹µì´ ë‚˜ì™”ë‚˜ìš”?
</Checkpoint>

</Step>

---

<Step number={2} title="Node.js SDK ì„¤ì¹˜ ë° ì‚¬ìš©">

### @anthropic-ai/sdk ì„¤ì¹˜

<CopyBlock language="bash" title="Anthropic Node.js SDK ì„¤ì¹˜">
npm install @anthropic-ai/sdk
</CopyBlock>

### ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒì„±

<CopyBlock language="javascript" title="Claudeë¡œ í…ìŠ¤íŠ¸ ìƒì„± (Node.js)">
import Anthropic from "@anthropic-ai/sdk";

const client = new Anthropic({
    apiKey: process.env.ANTHROPIC_API_KEY
});

const message = await client.messages.create({
    model: "claude-3-5-sonnet-20241022",
    max_tokens: 1024,
    messages: [
        {
            role: "user",
            content: "ì•ˆë…•í•˜ì„¸ìš”! JavaScriptë¡œ ì›¹ì•±ì„ ë§Œë“œëŠ” ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”"
        }
    ]
});

console.log(message.content[0].type === 'text' ? message.content[0].text : 'No text response');
</CopyBlock>

### ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ

ì‹¤ì‹œê°„ìœ¼ë¡œ ì‘ë‹µì„ ë°›ìŠµë‹ˆë‹¤:

<CopyBlock language="javascript" title="ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ (Node.js)">
import Anthropic from "@anthropic-ai/sdk";

const client = new Anthropic();

const stream = await client.messages.stream({
    model: "claude-3-5-sonnet-20241022",
    max_tokens: 1024,
    messages: [
        {
            role: "user",
            content: "ì•„ì£¼ ê¸´ ì´ì•¼ê¸°ë¥¼ ì§€ì–´ì£¼ì„¸ìš”"
        }
    ]
});

for await (const chunk of stream) {
    if (chunk.type === 'content_block_delta' && chunk.delta.type === 'text_delta') {
        process.stdout.write(chunk.delta.text);
    }
}
</CopyBlock>

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/anthropic/step2-nodejs-integration-ko.png"
  alt="Node.js Claude í†µí•©"
  caption="Node.jsì—ì„œ Claude APIë¥¼ ì‚¬ìš©í•˜ê³  ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µì„ ë°›ìŠµë‹ˆë‹¤"
/>

</Step>

---

<Step number={3} title="ì´ë¯¸ì§€ ë¶„ì„ ë° ì‹œê° ë°ì´í„° ì²˜ë¦¬">

### Pythonì—ì„œ ì´ë¯¸ì§€ ë¶„ì„

<CopyBlock language="python" title="ì´ë¯¸ì§€ ë¶„ì„ (Python)">
import anthropic
import base64

client = anthropic.Anthropic()

with open("image.jpg", "rb") as image_file:
    image_data = base64.standard_b64encode(image_file.read()).decode("utf-8")

message = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "image",
                    "source": {
                        "type": "base64",
                        "media_type": "image/jpeg",
                        "data": image_data,
                    }
                },
                {
                    "type": "text",
                    "text": "ì´ ì´ë¯¸ì§€ì— ë¬´ì—‡ì´ ìˆëŠ”ì§€ ì„¤ëª…í•´ì£¼ì„¸ìš”"
                }
            ]
        }
    ]
)

print(message.content[0].text)
</CopyBlock>

### URLë¡œë¶€í„° ì´ë¯¸ì§€ ë¶„ì„

<CopyBlock language="python" title="URL ì´ë¯¸ì§€ ë¶„ì„">
import anthropic

client = anthropic.Anthropic()

message = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "image",
                    "source": {
                        "type": "url",
                        "url": "https://example.com/image.jpg"
                    }
                },
                {
                    "type": "text",
                    "text": "ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•´ì£¼ì„¸ìš”"
                }
            ]
        }
    ]
)

print(message.content[0].text)
</CopyBlock>

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/anthropic/step3-vision-ko.png"
  alt="ì´ë¯¸ì§€ ë¶„ì„"
  caption="Claudeì˜ ë¹„ì „ ëŠ¥ë ¥ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤"
/>

</Step>

---

<Step number={4} title="í† í° ê³„ì‚° ë° ë¹„ìš© ì¶”ì •">

### Pythonì—ì„œ í† í° ê³„ì‚°

<CopyBlock language="python" title="í† í° ê³„ì‚°">
import anthropic

client = anthropic.Anthropic()

text = "ì•ˆë…•í•˜ì„¸ìš”! ì´ê²ƒì€ í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤."

count = client.messages.count_tokens(
    model="claude-3-5-sonnet-20241022",
    messages=[
        {
            "role": "user",
            "content": text
        }
    ]
)

print(f"ì…ë ¥ í† í°: {count.input_tokens}")
print(f"ì´ í† í°: {count.input_tokens}")

estimated_cost = (count.input_tokens / 1_000_000) * 3
print(f"ì˜ˆìƒ ë¹„ìš©: ${estimated_cost:.6f}")
</CopyBlock>

### ì‘ë‹µ í† í° í™•ì¸

<CopyBlock language="python" title="ì‘ë‹µ í† í° í¬í•¨ í™•ì¸">
import anthropic

client = anthropic.Anthropic()

response = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=100,
    messages=[
        {
            "role": "user",
            "content": "ê°„ë‹¨í•œ ë‹µë³€ì„ í•´ì£¼ì„¸ìš”"
        }
    ]
)

input_tokens = response.usage.input_tokens
output_tokens = response.usage.output_tokens

input_cost = (input_tokens / 1_000_000) * 3
output_cost = (output_tokens / 1_000_000) * 9

total_cost = input_cost + output_cost

print(f"ì…ë ¥: {input_tokens} í† í° (${input_cost:.6f})")
print(f"ì¶œë ¥: {output_tokens} í† í° (${output_cost:.6f})")
print(f"ì´ ë¹„ìš©: ${total_cost:.6f}")
</CopyBlock>

<Callout type="tip">
ğŸ’¡ **í† í°ì´ë€?** í† í°ì€ í…ìŠ¤íŠ¸ì˜ ì‘ì€ ë‹¨ìœ„ì…ë‹ˆë‹¤. í‰ê· ì ìœ¼ë¡œ 4ê°œ ë¬¸ìê°€ 1 í† í°ì…ë‹ˆë‹¤. "ì•ˆë…•í•˜ì„¸ìš”"ëŠ” ì•½ 2-3 í† í°ì…ë‹ˆë‹¤.
</Callout>

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/anthropic/step4-token-counting-ko.png"
  alt="í† í° ê³„ì‚°"
  caption="API ë¹„ìš©ì„ ì¶”ì •í•˜ê¸° ìœ„í•´ í† í°ì„ ê³„ì‚°í•©ë‹ˆë‹¤"
/>

</Step>

---

<Step number={5} title="ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë° ê³ ê¸‰ ê¸°ëŠ¥">

### ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©

Claudeì˜ ë™ì‘ì„ ì •ì˜í•©ë‹ˆë‹¤:

<CopyBlock language="python" title="ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸">
import anthropic

client = anthropic.Anthropic()

message = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    system="ë‹¹ì‹ ì€ ì¹œì ˆí•œ íŒŒì´ì¬ ì „ë¬¸ íŠœí„°ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•˜ê³  ì½”ë“œ ì˜ˆì œë¥¼ ì œê³µí•˜ì„¸ìš”.",
    messages=[
        {
            "role": "user",
            "content": "íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì„¤ëª…í•´ì£¼ì„¸ìš”"
        }
    ]
)

print(message.content[0].text)
</CopyBlock>

### JSON ì‘ë‹µ í¬ë§·

êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤:

<CopyBlock language="python" title="JSON ì‘ë‹µ">
import anthropic
import json

client = anthropic.Anthropic()

message = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    messages=[
        {
            "role": "user",
            "content": 'JSON í˜•ì‹ìœ¼ë¡œ {ì´ë¦„, ë‚˜ì´, ì§ì—…}ì„ ê°€ì§„ ê°€ì§œ ì‚¬ìš©ì ì •ë³´ 3ê°œë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”'
        }
    ]
)

response_text = message.content[0].text

try:
    start_idx = response_text.find('[')
    end_idx = response_text.rfind(']') + 1
    json_str = response_text[start_idx:end_idx]
    data = json.loads(json_str)
    print(json.dumps(data, indent=2, ensure_ascii=False))
except json.JSONDecodeError:
    print("JSON íŒŒì‹± ì‹¤íŒ¨")
    print(response_text)
</CopyBlock>

### ë°°ì¹˜ ì²˜ë¦¬

ë§ì€ ìš”ì²­ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤:

<CopyBlock language="python" title="ë°°ì¹˜ ì²˜ë¦¬">
import anthropic

client = anthropic.Anthropic()

prompts = [
    "íŒŒì´ì¬ì´ë€ ë­”ê°€ìš”?",
    "ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì§•ì€?",
    "Go ì–¸ì–´ë¥¼ ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?"
]

responses = []

for prompt in prompts:
    message = client.messages.create(
        model="claude-3-5-sonnet-20241022",
        max_tokens=500,
        messages=[
            {
                "role": "user",
                "content": prompt
            }
        ]
    )
    responses.append({
        "question": prompt,
        "answer": message.content[0].text
    })

for resp in responses:
    print(f"Q: {resp['question']}")
    print(f"A: {resp['answer']}")
    print()
</CopyBlock>

<Callout type="success">
âœ… **ì™„ë£Œ!** Claude APIë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í–ˆìŠµë‹ˆë‹¤. ì´ì œ AI ê¸°ëŠ¥ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/anthropic/step5-advanced-features-ko.png"
  alt="ê³ ê¸‰ ê¸°ëŠ¥"
  caption="ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸, JSON ì‘ë‹µ, ë°°ì¹˜ ì²˜ë¦¬ë¡œ ê³ ê¸‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤"
/>

</Step>

---

## ì‹¤ì „ ì‚¬ìš© ì‚¬ë¡€

### ì±—ë´‡ ì• í”Œë¦¬ì¼€ì´ì…˜

<CopyBlock language="python" title="ê°„ë‹¨í•œ ì±—ë´‡">
import anthropic

def chatbot():
    client = anthropic.Anthropic()
    messages = []

    print("ì±—ë´‡ ì‹œì‘ (ì¢…ë£Œí•˜ë ¤ë©´ 'quit' ì…ë ¥)")

    while True:
        user_input = input("ë‹¹ì‹ : ")
        if user_input.lower() == 'quit':
            break

        messages.append({
            "role": "user",
            "content": user_input
        })

        response = client.messages.create(
            model="claude-3-5-sonnet-20241022",
            max_tokens=1024,
            messages=messages
        )

        assistant_message = response.content[0].text
        messages.append({
            "role": "assistant",
            "content": assistant_message
        })

        print(f"ì±—ë´‡: {assistant_message}")

if __name__ == "__main__":
    chatbot()
</CopyBlock>

### í…ìŠ¤íŠ¸ ìš”ì•½

<CopyBlock language="python" title="ë¬¸ì„œ ìš”ì•½">
import anthropic

def summarize_text(text):
    client = anthropic.Anthropic()

    message = client.messages.create(
        model="claude-3-5-sonnet-20241022",
        max_tokens=500,
        system="ë‹¹ì‹ ì€ ë¬¸ì„œ ìš”ì•½ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì£¼ìš” ë‚´ìš©ë§Œ ê°„ê²°í•˜ê²Œ ìš”ì•½í•˜ì„¸ìš”.",
        messages=[
            {
                "role": "user",
                "content": f"ë‹¤ìŒ í…ìŠ¤íŠ¸ë¥¼ ìš”ì•½í•´ì£¼ì„¸ìš”:\n\n{text}"
            }
        ]
    )

    return message.content[0].text

long_text = "..."
summary = summarize_text(long_text)
print(summary)
</CopyBlock>

---

## ì—ëŸ¬ ì²˜ë¦¬

### API ì˜¤ë¥˜ ì²˜ë¦¬

<CopyBlock language="python" title="ì—ëŸ¬ ì²˜ë¦¬">
import anthropic

try:
    client = anthropic.Anthropic()
    message = client.messages.create(
        model="claude-3-5-sonnet-20241022",
        max_tokens=1024,
        messages=[
            {
                "role": "user",
                "content": "ì•ˆë…•í•˜ì„¸ìš”"
            }
        ]
    )
    print(message.content[0].text)
except anthropic.APIError as e:
    print(f"API ì˜¤ë¥˜: {e}")
except anthropic.APIConnectionError as e:
    print(f"ì—°ê²° ì˜¤ë¥˜: {e}")
except anthropic.RateLimitError as e:
    print(f"ë ˆì´íŠ¸ ì œí•œ: {e}")
</CopyBlock>

---

## ë¬¸ì œ í•´ê²°

### API í‚¤ ì˜¤ë¥˜

API í‚¤ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸:

<CopyBlock language="bash" title="í™˜ê²½ ë³€ìˆ˜ í™•ì¸">
echo $ANTHROPIC_API_KEY
</CopyBlock>

### í† í° ì œí•œ ì˜¤ë¥˜

`max_tokens` ê°’ì´ ë„ˆë¬´ í¬ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. 1024 ì´í•˜ë¡œ ì„¤ì •í•˜ì„¸ìš”.

### ì‘ë‹µ í¬ë§· ë¬¸ì œ

Claudeì˜ ì‘ë‹µì´ ì˜ˆìƒê³¼ ë‹¤ë¥´ë©´ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ë” êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”.
