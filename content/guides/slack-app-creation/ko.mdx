# Slack 앱 생성 및 자격증명 설정

Slack은 팀 커뮤니케이션 플랫폼으로, 커스텀 앱과 봇을 통해 자동화할 수 있습니다. 이 가이드에서는 Slack 앱을 만들고 필요한 자격증명을 발급받습니다.

<FreeTierInfo
  service="Slack Apps and Integrations"
  limit="무제한 무료 앱 및 기본 기능"
  period="영구 무료"
  status="generous"
/>

## Slack 앱이란?

<Callout type="info">
🤖 **Slack 앱은 Slack 워크스페이스를 확장하는 프로그램입니다**

주요 기능:
- **봇**: 자동으로 메시지 전송
- **슬래시 명령어**: /command 형태의 커스텀 명령어
- **이벤트 처리**: 메시지 수신, 사용자 참여 감지
- **인터랙티브**: 버튼, 모달, 선택 메뉴
- **워크플로우**: 자동화된 프로세스

예시:
- AI 챗봇: 메시지에 자동 응답
- 알림 봇: 외부 이벤트 알림
- 작업 관리: To-do 리스트 관리
</Callout>

## 시작하기 전에

<PrerequisiteCheck items={[
  { text: "Slack 워크스페이스 관리자 권한", required: true },
  { text: "Slack 계정", required: true },
  { text: "인터넷 연결", required: true }
]} />

---

<Step number={1} title="Slack API 포털에서 앱 생성">

1. [Slack API 포털](https://api.slack.com/apps)에 접속합니다.
2. **Create New App** 버튼을 클릭합니다.

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/slack/slack-app-creation-step1-ko.png"
  alt="Slack API 포털"
  caption="Slack API 포털에서 앱 생성"
  priority={true}
/>

### 앱 생성 방법 선택

두 가지 옵션이 있습니다:

1. **From scratch**: 처음부터 만들기 [권장]
2. **From an app manifest**: 미리 정의된 설정으로 만들기

**From scratch** 선택합니다.

### 앱 정보 입력

1. **App Name**: 앱 이름 [예: My Chat Bot]
2. **Pick a workspace**: 앱을 설치할 워크스페이스 선택
3. **Create App** 클릭

<Callout type="tip">
💡 **앱 이름 선택 팁**

- 명확하고 설명적으로: "Customer Support Bot" ✅
- 너무 길지 않게: "My Amazing Chat Bot for Customer Support" ❌
- 나중에 변경 가능
</Callout>

</Step>

---

<Step number={2} title="앱 권한 설정">

앱이 워크스페이스에서 어떤 권한을 가질지 설정합니다.

### Bot Token Scopes 설정

왼쪽 메뉴에서 **OAuth & Permissions** 클릭:

1. **Bot Token Scopes** 섹션
2. **Add an OAuth Scope** 버튼 클릭
3. 필요한 권한 추가:

주요 권한:
- `chat:write`: 메시지 전송
- `chat:read`: 메시지 읽기
- `users:read`: 사용자 정보 조회
- `app_mentions:read`: 앱 멘션 감지
- `messages.im`: 다이렉트 메시지

<CopyBlock
  code="일반적인 봇 권한:
chat:write - 메시지 전송
chat:read - 메시지 읽기
users:read - 사용자 정보 조회
app_mentions:read - 앱 멘션 감지
commands - 슬래시 명령어"
  language="bash"
/>

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/slack/slack-app-creation-step2-ko.png"
  alt="권한 설정"
  caption="Bot Token Scopes 설정"
/>

### User Token Scopes [선택사항]

사용자 대신 작업하는 권한이 필요하면 설정합니다.

<Callout type="warning">
⚠️ **권한 주의사항**

- 필요한 권한만 요청 [최소 권한 원칙]
- 과다한 권한은 보안 위험
- 나중에 수정 가능
</Callout>

</Step>

---

<Step number={3} title="Bot Token 및 API Key 복사">

### Bot Token 생성

1. OAuth & Permissions 페이지에서
2. **Install to Workspace** 버튼 클릭
3. 권한 확인 후 **Allow** 클릭

### Token 복사

1. **Bot User OAuth Token** 찾기
2. 토큰 값을 복사 [xoxb-로 시작]

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/slack/slack-app-creation-step3-ko.png"
  alt="Token 복사"
  caption="Bot User OAuth Token 복사"
/>

### 토큰 보안 저장

.env 파일에 저장:

<CopyBlock
  code="SLACK_BOT_TOKEN=xoxb-your-token
SLACK_SIGNING_SECRET=your-signing-secret"
  language="bash"
/>

.gitignore 추가:

<CopyBlock
  code="echo '.env' >> .gitignore"
  language="bash"
/>

<Callout type="warning">
⚠️ **토큰 보안 주의사항**

- 토큰을 절대 공개하지 마세요
- 코드에 직접 작성 금지
- GitHub에 올리면 안 됨
- 유출되면 즉시 재생성
</Callout>

</Step>

---

<Step number={4} title="이벤트 구독 설정">

앱이 특정 이벤트를 감지하도록 설정합니다.

### Events 메뉴 접근

왼쪽 메뉴에서 **Event Subscriptions** 클릭

### Request URL 설정

1. **Request URL** 필드 입력
2. Slack이 이벤트를 보낼 URL 지정
3. 예: `https://your-domain.com/slack/events`

<Callout type="info">
**Request URL이 필요한 이유**

- Slack이 이벤트를 POST로 전송
- 앱이 이를 수신하고 처리
- 공개 URL이어야 함 [로컬호스트 불가]
</Callout>

### 이벤트 구독 추가

1. **Subscribe to bot events** 섹션
2. **Add Bot User Event** 클릭
3. 이벤트 선택:

주요 이벤트:
- `message.channels`: 채널 메시지
- `app_mention`: 앱 멘션
- `reaction_added`: 리액션 추가
- `user_change`: 사용자 정보 변경

<Screenshot
  src="https://res.cloudinary.com/demo/image/upload/v1/slack/slack-app-creation-step4-ko.png"
  alt="이벤트 구독"
  caption="Event Subscriptions 설정"
/>

### 슬래시 명령어 등록 [선택사항]

**Slash Commands** 메뉴에서:

1. **Create New Command** 클릭
2. 명령어 입력: `/mycommand`
3. Request URL: `https://your-domain.com/slack/commands`
4. 설명 입력
5. **Save** 클릭

<Checkpoint
  title="앱 설정 확인"
  items={[
    "Slack 앱이 생성되었나요?",
    "권한을 설정했나요?",
    "Bot Token을 복사했나요?",
    "이벤트 구독을 설정했나요?"
  ]}
/>

<Callout type="success">
✅ **축하합니다!** Slack 앱 생성이 완료되었습니다!
</Callout>

</Step>

---

## Signing Secret 복사

요청이 실제 Slack에서 오는지 검증하려면 Signing Secret이 필요합니다.

1. **Basic Information** 메뉴
2. **App Credentials** 섹션
3. **Signing Secret** 복사

.env 파일에 추가:

<CopyBlock
  code="SLACK_SIGNING_SECRET=your-signing-secret"
  language="bash"
/>

---

## 다음 단계

Slack 앱 생성이 완료되었으니, 이제 봇 로직을 구현해보세요:

1. **[Slack 통합 설정](../slack-integration-setup)** - Node.js/Python에서 봇 구현
2. **[OpenAI 통합](../openai-api-integration)** - AI 기능 추가

---

## 자주 묻는 질문

<Callout type="info">
**Q. Request URL을 설정할 수 없어요**

A. 공개 HTTPS URL이어야 합니다. localhost는 불가. ngrok으로 터널링하면 테스트 가능합니다.
</Callout>

<Callout type="info">
**Q. 토큰이 만료되나요?**

A. Bot Token은 만료되지 않지만, 앱을 제거하면 무효화됩니다.
</Callout>

---

**축하합니다!** 🎉 Slack 앱 생성이 완료되었습니다!
